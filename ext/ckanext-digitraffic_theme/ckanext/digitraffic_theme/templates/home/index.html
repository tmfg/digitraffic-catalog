{% extends "page.html" %}

{% set hero_title_text = _("Visibility and users for your data") %}
{% set hero_text =_("The Transport Data Catalog is an open national access point (NAP) for traffic data, where traffic data providers submit information about the data and APIs they offer. For data users, the catalog provides an overview of available data sources, their providers, usage methods, and terms.") %}

{% block content %}
<div class="digitraffic-catalog-homepage">
        {% if c.user %}
            <section class="homepage-hero logged-in">
                <div class="hero-content logged-in">
                    <h1>{{hero_title_text}}</h1>
                    <p>{{hero_text}}</p>
                </div>
                <div class="hero-image">
                    <div class="hero-logged-in-box">
                        <div class="logged-in-message">
                            {% trans %}You are logged in as{% endtrans %}<br> <strong>{{ c.userobj.display_name }}</strong>
                        </div>
                        <a href="{{h.url_for('dataset.new')}}" class="btn btn-primary create-dataset ">{% trans %}Create new dataset{% endtrans %}</a>
                        <a href="{{h.url_for('dashboard.datasets')}}" class="btn btn-primary browse-datasets ">{% trans %}Browse my datasets{% endtrans %}</a>
                    </div>
                </div>
             </section>
        {% else %}
        <section class="homepage-hero default">
            <div class="hero-content default">
                <h1>{{hero_title_text}}</h1>
                <p>{{hero_text}}</p>
                {% include "home/hero_buttons.html" %}  
            </div>
            <div class="hero-image">
            </div>
                </section>

        {% endif %}
    <section class="steps">
        <h2>{% trans %}How do I submit my dataset to the catalog?{% endtrans %}</h2>
        <div class="step-cards">
            <div class="step-card blue">
                <div class="step-number">01</div>
                <div class="step-title">{% trans %}Register and join an organization{% endtrans %}</div>
                <div class="step-desc">{% trans %}Datasets and their descriptions are always linked to an organization.{% endtrans %}</div>
            </div>
            <div class="step-card black">
                <div class="step-number">02</div>
                <div class="step-title">{% trans %}Create a dataset{% endtrans %}</div>
                <div class="step-desc">{% trans %}Enter your dataset's metadata according to the instructions on the form.{% endtrans %}</div>
            </div>
            <div class="step-card blue">
                <div class="step-number">03</div>
                <div class="step-title">{% trans %}Add data sources (resources){% endtrans %}</div>
                <div class="step-desc">{% trans %}Add to the description the different ways to access the dataset.{% endtrans %}</div>
            </div>
            <div class="step-card black">
                <div class="step-number">04</div>
                <div class="step-title">{% trans %}Publish your dataset{% endtrans %}</div>
                <div class="step-desc">{% trans %}Published dataset descriptions can be browsed by users via the catalog's search functions.{% endtrans %}</div>
            </div>
        </div>
        <div class="steps-info-btn">
            <a href="{{h.url_for('digitraffic_pages.instructions_page')}}">
                <button>
                    {% trans %}Read more about creating datasets{% endtrans %}
                </button>
            </a>
        </div>
    </section>

    <section class="search">
        <h2>{% trans %}Search for datasets{% endtrans %}</h2>
        <p>{% trans %}Datasets will be added to the catalog as the service is adopted more widely.{% endtrans %}</p>
        {% snippet "snippets/dt_header/search_box.html" %}  
    </section>

    {% set orgs = h.get_organization_dataset_counts() %}
    {% if orgs %}
    <section class="organizations">
        <h2>{% trans %}Organizations with datasets in the catalog{% endtrans %}</h2>
        <div class="organization-tags">
            {% for org in orgs %}
                {% if org.dataset_count > 0 %}
                    <a href="{{h.url_for('organization.read', id=org.name)}}">{{ org.title }} ({{ org.dataset_count }})</a>
                {% endif %}
            {% endfor %}
        </div>
    </section>
    {% endif %}

    <section class="development-progress">
        <h2 class="development-progress-title">{% trans %}Development path{% endtrans %}</h2>
        <div class="progress-step-wrapper">
          <div class="progress-step completed">
            <div class="step-counter">1</div>
            <div class="step-texts">
                <h2 class="step-title">{% trans %}Launch{% endtrans %}</h2>
                <div class="step-description"></div>
            </div>
          </div>
          <div class="progress-step">
            <div class="step-counter">2</div>
            <div class="step-texts">
                <h2 class="step-title">{% trans %}Data collection{% endtrans %}</h2>
                <div class="step-description">{% trans %}Describing existing datasets in the catalog{% endtrans %}</div>
            </div>
          </div>
          <div class="progress-step">
            <div class="step-counter">3</div>
            <div class="step-texts">
                <h2 class="step-title">{% trans %}Established use{% endtrans %}</h2>
                <div class="step-description">{% trans %}Dataset information is maintained and new datasets are added{% endtrans %}</div>
            </div>
          </div>
          <div class="progress-step">
            <div class="step-counter">4</div>
            <div class="step-texts">
              <h2 class="step-title">{% trans %}Integrations{% endtrans %}</h2>
              <div class="step-description">{% trans %}Metadata transfer to other catalogs and harvesting from other catalogs{% endtrans %}</div>
            </div>
          </div>
        <div class="progress-step">
            <div class="step-counter">5</div>
            <div class="step-texts">
              <h2 class="step-title">{% trans %}Single NAP{% endtrans %}</h2>
              <div class="step-description">{% trans %}Completing the catalog with mobility service information, a single national access point model{% endtrans %}</div>
            </div>
          </div>
        </div>
    </section>
</div>
{% endblock %}